# 정리

- 웹이란 HTTP 기반으로 통신을 하고 있다.

## 웹서버, 웹 어플리케이션 서버

### 웹 서버
- HTTP 기반으로 동작
- 정적 리소스 제공 (css, html, js), 이미지, 영상
- NGINX, APACHE 

### 웹 어플리케이션 서버 (WAS)
- HTTP 기반으로 동작
- 웹 서버 기능에 추가로 어플리케이션 로직을 수행한다.
  - 동적 HTML, HTTP API(JSON)
  - 구현 기술
    - servlet, jsp, spring MVC
- 톰캣, jetty, Undertow


### 웹 시스템 구성
- 흔히 사용되는 시스템으로 
  - WAS[spring] - DB[mariadb]
  - 로 간단하게 구성할 수 있다.
  - 단점) 
    - was가 너무많은 기능을 담당
    - was 장애시 오류화면도 노출이 불가능

* * *

## 서블릿

- 순수 java 코드로 서버를 구성하게 될 경우 
  - socket 서버를 구성하여 TCP/IP 연결 대기, 소켓 연결
  - HTTP 요청 메시지를 파싱해서 읽기
  - HTTP 헤더 부분 해석하여 분리하기
  - ...etc
  - 비즈니스 로직 실행
  - res 데이터 생성
  - TCP/IP res 전달 및 종료

- 서블릿을 이용하여 서버를 구성하게되면 개발자는 비즈니스 로직에만 집중하여   
코드를 작성할 수 있다.

- 서블릿 객체는 싱글톤으로 관리된다.
  - 고객의 요청 [스레드] 당 객체를 생성하는 것은 비효율
  - 최초 로딩 시점에 서블릿 객체를 미리 싱글톤으로 만들어두고 재활용한다.
    - 이때 주의해야할 점은 공유 변수를 사용할 시 thread safe하게 작성해야 한다.
  - jsp도 서블릿으로 변환 되어서 사용
 